<!DOCTYPE html>
<html lang="zh-hans">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>留言板</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"
        integrity="sha512-3RlxD1bW34eFKPwj9gUXEWtdSMC59QqIqHnD8O/NoTwSJhgxRizdcFVQhUMFyTp5RwLTDL0Lbcqtl8b7bFAzog=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="sketch.js"></script>
</head>

<body>
    <div class="main">
        <div class="board">
            <span class="red-dot"></span>
            <span class="yellow-dot"></span>
            <span class="blue-dot"></span>
            <span class="title">留言板WELCOME</span>
            <span class="title">第一页<span class="next" style="color: rgb(202, 39, 39);">🢂</span>BACK<span
                    class="next">🢀</span></span>
            <span class="title">详情</span>
            <span class="side">Guestbook</span>
            <div class="message">
                <ul>
                    <li>2023/04/01<span class="author">小小羊 留</span></li>
                    <li>公园垃圾太多，请加强清洁力度公园垃圾太多，请加强清洁力度</li>
                </ul>
                <ul>
                    <li>2023/04/01<span class="author">小小羊 留</span></li>
                    <li>公园垃圾太多，请加强清洁力度公园垃圾太多，请加强清洁力度</li>
                </ul>
                <ul>
                    <li>2023/04/01<span class="author">小小羊 留</span></li>
                    <li>公园垃圾太多，请加强清洁力度</li>
                </ul>
                <ul>
                    <li>2023/04/01<span class="author">小小羊 留</span></li>
                    <li>公园垃圾太多，请加强清洁力度</li>
                </ul>
                <ul>
                    <li>2023/04/01<span class="author">小小羊 留</span></li>
                    <li>公园垃圾太多，请加强清洁力度</li>
                </ul>
                <ul>
                    <li>2023/04/01<span class="author">小小羊 留</span></li>
                    <li>公园垃圾太多，请加强清洁力度</li>
                </ul>
                <ul>
                    <li>2023/04/01<span class="author">小小羊 留</span></li>
                    <li>公园垃圾太多，请加强清洁力度</li>
                </ul>
                <div class="comment">
                    <div class="comment-block">留言键入>></div>
                    <input type="text" class="topic">
                    <textarea placeholder="留言键入<<"></textarea>
                </div>
            </div>

        </div>
    </div>
</body>

<script>
    let comment = document.querySelector(".comment");
    let block = document.querySelector(".comment-block");
    let body = document.querySelector("body");

    block.addEventListener("transitionend",()=>{
        if(block.classList.contains("comment-block-focus")){
            block.style.display = "none";
        };
    });

    comment.addEventListener("click", (e) =>{
        e.stopPropagation();
        comment.classList.add("comment-focus");
        block.innerHTML= ""
        block.classList.add("comment-block-focus");
        // document.querySelector(".topic").focus();
    },true);

    body.addEventListener("click", (e) =>{
        if(comment.classList.contains("comment-focus")){
            e.stopPropagation()
            comment.classList.remove("comment-focus");
            block.innerHTML= "留言键入<<";
            block.style.display = "block";
            setTimeout(() => {
                block.classList.remove("comment-block-focus");
            }, 0);
        }
    });

    // 为了方案调试，请把下面取消注释。
    // comment.click();
</script>

</html>